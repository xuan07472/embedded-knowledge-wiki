# 嵌入式私有通讯协议  

* 源码本地路径：嵌入式知识图谱WiKi\source\lib\communication_protocol  
* 概念：总线、局域网（以太网）、UDP、IP、私有协议  

## 一、简单通讯协议  

* 总线：  
总线是一组信号线和通讯协议的集合，包含信号电气与机械特性，用于多组件间的数据传输。一些概念有传输速率、仲裁、并行串行、同步异步、差分、主从、一对多、多对多、时分复用。  
总线是一个拓扑概念，相关的拓扑概念有：星形、总线型、环形、树形。  

* 以太网（IEEE 802.3）：数据帧、前导码、同步码、帧起始、目的地址、源地址、类型、数据、校验码。  
* 媒体访问控制(MAC, Media Access Control) 协议用于总线上多台设备同时发送时的仲裁，不使用总线使用星形网络时不需要仲裁。  
* 交换机是一个多接口的网桥，消除了同时发送数据时的冲突。  

* 嵌入式设备上的总线没有交换机的机制，所有往往还是需要冲突检测和仲裁。  
* 私有协议的通用概念：包头、包长、命令码、数据、累加和或校验和、包尾，ACK应答，重传，可靠传输，单次传输、批量传输、状态机、数据帧。如果是一对多、多对多通讯还有源地址、目的地址、路由。  

[掌握总线技术，看这一篇就够了！](https://zhuanlan.zhihu.com/p/136854650)  
[局域网、以太网、无线局域网学习笔记](https://blog.csdn.net/QuantumYou/article/details/119147726)  
[常见局域网类型三种常见局域网类型 ](https://wenku.baidu.com/view/f23c1dde473610661ed9ad51f01dc281e43a565f.html)  
[以太网是什么？看完明白了【史上最详细介绍】](https://blog.csdn.net/xiaomanong2/article/details/106072510)  
[<13>基础知识——以太网（Ethernet ）](https://blog.csdn.net/weixin_40274679/article/details/105995323)  
[TCP/IP协议(2): 以太网(IEEE 802.3) 协议 —— 构成有线局域网的基本协议](https://blog.csdn.net/yanglingwell/article/details/81266408)  

## 二、复杂通讯协议  

### 1）UDP  
* 现实意义：软件内部各个模块之间基于内存拷贝的可靠通讯链路的通讯可以借鉴和魔改UDP。  
* 特点：没有应答ACK、定长头部  

* 设备子模块：内存拷贝、以太网MAC层、串口（不可靠传输）、USB、CAN等

[UDP协议的详细解析](https://blog.csdn.net/aa1928992772/article/details/85240358)  

### 2）TCP  
* 现实意义：使用不可靠通讯线路（如串口）的各个板子之间的一对多、多对多通讯可以借鉴和魔改IP协议，如铁塔的B接口协议。  
* 特点：有应答ACK、不定长同步  

* 设备子模块：内存拷贝、以太网MAC层、串口、USB、CAN等

[UDP协议和TCP协议](https://blog.csdn.net/qq_57574258/article/details/123024217)  
